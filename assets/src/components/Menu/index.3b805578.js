import{a}from"../../../react-vendor.49242b7f.js";import{L as x}from"../../../react-router-dom.50d3b09b.js";import{R as s}from"../../constants.2664b933.js";import{j as t,a as f}from"../../../react/jsx-runtime.9d3c09ab.js";const g=[{menuPath:`${s}blogs`,menuText:"Blogs",index:"blogs"},{menuPath:`${s}packages`,menuText:"Packages",index:"packages"},{menuPath:`${s}tags`,menuText:"Tags",index:"tags"},{menuPath:`${s}about`,menuText:"About",index:"about"}],w=function(i){const l=history[i];return function(){const n=l.apply(this,arguments),o=new Event(i);return o.arguments=arguments,window.dispatchEvent(o),n}};history.pushState=w("pushState");function v(){const[i,l]=a.exports.useState(window.location.pathname.split("/")[1]),[n,o]=a.exports.useState(localStorage.getItem("theme")||"light"),[r,m]=a.exports.useState(!0);return a.exports.useEffect(()=>{r&&(window.addEventListener("pushState",function(){l(window.location.pathname.split("/")[s.length>1?2:1])}),window.addEventListener("popstate",function(){l(window.location.pathname.split("/")[s.length>1?2:1])}))},[r]),a.exports.useEffect(()=>{r&&document.querySelectorAll(".float-text-menu li a").forEach(c=>{let h=c.textContent.split("");c.textContent="",h.forEach((d,p)=>{let u=document.createElement("span");u.textContent=d,u.style.transitionDelay=`${p/40}s`,u.dataset.text=d,c.append(u)})})},[r]),a.exports.useEffect(()=>{n==="light"?(document.documentElement.setAttribute("theme","light"),localStorage.setItem("theme",n)):(document.documentElement.setAttribute("theme","dark"),localStorage.setItem("theme",n))},[n]),a.exports.useEffect(()=>{window.addEventListener("menuShowStatus",e=>{e.detail==="show"?m(!0):m(!1)})},[]),t("div",{className:r?"component-menu":"component-menu hidden",children:t("div",{className:"wrap",children:f("ul",{className:"float-text-menu",children:[g.map(e=>t("li",{children:t(x,{className:i===e.index?"active-menu":"",to:e.menuPath,"data-text":e.menuText,children:e.menuText})},e.index)),n==="dark"?t("li",{children:t("a",{onClick:()=>o("light"),"data-text":"Light",children:"Light"})},"light"):t("li",{children:t("a",{onClick:()=>o("dark"),"data-text":"Dark",children:"Dark"})},"dark"),t("li",{children:t("a",{href:"https://github.com/zealleaf",target:"_self",children:"Github"})},"github")]})})})}export{v as m};
